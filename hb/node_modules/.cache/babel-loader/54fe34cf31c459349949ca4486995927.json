{"ast":null,"code":"export default {\n  data() {\n    return {\n      musicArr: [{\n        id: 1,\n        detail: 'hihihi',\n        url: 'https://m801.music.126.net/20221031193826/2e41742141cf2774ebcd525a7e19f91f/jdyyaac/0659/000c/510b/136597a0ee7f598cc0e0fa3bc5ec9db5.m4a'\n      }, {\n        id: 2,\n        detail: 'hello',\n        url: 'https://m801.music.126.net/20221031195449/d513825f73ef5bef8a41548abe56e477/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/14096414162/5f1c/6655/8ef3/08818ac58e92a4db15f7d80d94086589.m4a'\n      }, {\n        id: 3,\n        detail: 'nihao'\n      }, {\n        id: 4,\n        detail: '444444'\n      }, {\n        id: 5,\n        detail: '55555'\n      }, {\n        id: 6,\n        detail: '6666'\n      }, {\n        id: 7,\n        detail: '77777'\n      }, {\n        id: 8,\n        detail: '88888'\n      }],\n      count: [0, 0, 0, 0, 0, 0, 0, 0],\n      isTimerPlaying: false,\n      audio: ''\n    };\n  },\n  created() {\n    this.audio = new Audio();\n    this.audio.loop = true;\n  },\n  methods: {\n    countAdd(id, url) {\n      if (this.count[id - 1] < 10) {\n        this.count[id - 1]++;\n      }\n      if (this.count[id - 1] >= 10) {\n        // console.log(id);\n        this.play(url);\n      }\n    },\n    play(myurl) {\n      setTimeout(() => {\n        console.log('歌曲即将开始播放');\n        console.log(this.audio);\n        if (this.audio.paused) {\n          if (this.audio.src == '' || this.audio.src !== myurl) {\n            this.audio.src = myurl;\n          }\n          this.audio.play();\n          this.isTimerPlaying = true;\n        } else {\n          this.audio.pause();\n          this.isTimerPlaying = false;\n        }\n      }, 500);\n    }\n  }\n};","map":{"version":3,"mappings":"AAcA;EACAA;IACA;MACAC;QACAC;QACAC;QACAC;MAEA,GACA;QACAF;QACAC;QACAC;MACA,GACA;QACAF;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA;MACAE;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MACA;QACA;MACA;MACA;QACA;QACA;MACA;IACA;IACAC;MACAC;QACAC;QACAA;QACA;UACA;YACA,iBACAC;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;IACA;EACA;AAEA","names":["data","musicArr","id","detail","url","count","isTimerPlaying","audio","created","methods","countAdd","play","setTimeout","console","myurl"],"sourceRoot":"src/pages/Music","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div class=\"root\">\r\n    <div class=\"wrapper\">\r\n        <div v-for=\"(item,index) in musicArr\" :key=\"index\">\r\n            <div class=\"nei\">\r\n                <img src=\"../../../public/images/yinle_1.png\" @click=\"countAdd(item.id,item.url)\">\r\n                <span>{{item.detail}}</span>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    data(){\r\n        return {\r\n            musicArr:[{\r\n                id:1,\r\n                detail:'hihihi',\r\n                url:'https://m801.music.126.net/20221031193826/2e41742141cf2774ebcd525a7e19f91f/jdyyaac/0659/000c/510b/136597a0ee7f598cc0e0fa3bc5ec9db5.m4a'\r\n            \r\n            },\r\n            {\r\n                id:2,\r\n                detail:'hello',\r\n                url:'https://m801.music.126.net/20221031195449/d513825f73ef5bef8a41548abe56e477/jdyyaac/obj/w5rDlsOJwrLDjj7CmsOj/14096414162/5f1c/6655/8ef3/08818ac58e92a4db15f7d80d94086589.m4a'\r\n            },\r\n            {\r\n                id:3,\r\n                detail:'nihao'\r\n            },\r\n            {\r\n                id:4,\r\n                detail:'444444'\r\n            },\r\n            {\r\n                id:5,\r\n                detail:'55555'\r\n            },\r\n            {\r\n                id:6,\r\n                detail:'6666'\r\n            },\r\n            {\r\n                id:7,\r\n                detail:'77777'\r\n            },\r\n            {\r\n                id:8,\r\n                detail:'88888'\r\n            }],\r\n            count:[0,0,0,0,0,0,0,0],\r\n            isTimerPlaying:false,\r\n            audio:''\r\n        }\r\n    },\r\n    created(){\r\n        this.audio = new Audio()\r\n        this.audio.loop = true\r\n    },\r\n    methods:{\r\n      countAdd(id,url){\r\n        if(this.count[id-1]<10){\r\n            this.count[id-1]++\r\n        }\r\n        if(this.count[id-1]>=10){\r\n            // console.log(id);\r\n            this.play(url)\r\n        }\r\n    }  ,\r\n    play(myurl){\r\n         setTimeout(() => {\r\n            console.log('歌曲即将开始播放')\r\n            console.log(this.audio)\r\n        if (this.audio.paused) {\r\n          if (this.audio.src == ''||this.audio.src !== myurl) {\r\n            this.audio.src =\r\n              myurl\r\n          }\r\n          this.audio.play()\r\n          this.isTimerPlaying = true\r\n        } else {\r\n          this.audio.pause()\r\n          this.isTimerPlaying = false\r\n        }\r\n      }, 500)\r\n    }\r\n    }\r\n    \r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.root{\r\n    height:100vh;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: beige;\r\n}\r\n.wrapper{\r\n    width:80%;\r\n    display:grid;\r\n    grid-template-columns: 1fr 1fr;\r\n}\r\n.wrapper>div{\r\n    background-color:white;\r\n    border-radius: 8px;\r\n    height:120px;\r\n    margin:5px;\r\n    display: flex;\r\n    /* justify-content: center; */\r\n    align-items: center;\r\n}\r\n.nei{\r\n    width:20%;\r\n    height:85%;\r\n    display: flex;\r\n    align-items: center;\r\n    margin-left:2vw;\r\n    background-color:#f5f5dc;\r\n}\r\n.nei>img{\r\n    width:6vw;\r\n    height:5vw;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}