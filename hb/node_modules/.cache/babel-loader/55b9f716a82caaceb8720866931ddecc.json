{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport default {\n  name: \"Typer\",\n  props: ['str'],\n  data() {\n    return {\n      words: [],\n      //字母数组push，pop的载体\n      letters: [],\n      //str分解后的字母数组\n      showcur: false,\n      typerStr: '',\n      order: 0\n    };\n  },\n  mounted() {\n    this.typerStr = this.str[0];\n    this.begin();\n  },\n  watch: {\n    order(oldValue, newValue) {\n      this.typerStr = this.str[newValue];\n    }\n  },\n  methods: {\n    begin() {\n      this.letters = this.typerStr.split('');\n      for (var i = 0; i < this.letters.length; i++) {\n        setTimeout(this.write(i), i * 200);\n      }\n    },\n    back() {\n      let L = this.letters.length;\n      for (let i = 0; i < L; i++) {\n        setTimeout(this.wipe(i), i * 100);\n      }\n    },\n    write(i) {\n      return () => {\n        let L = this.letters.length;\n        this.words.push(this.letters[i]);\n        let that = this;\n        if (i == L - 1) {\n          this.showcur = true;\n          setTimeout(function () {\n            that.showcur = false;\n            that.back();\n          }, 1000);\n        }\n      };\n    },\n    wipe(i) {\n      return () => {\n        this.words.pop(this.letters[i]);\n        /*如果删除完毕，在300ms后开始输入*/\n        if (this.words.length == 0) {\n          console.log(this.order, \"kkk\");\n          if (this.order <= this.str.length - 1) {\n            this.order++;\n          } else {\n            this.order = 0;\n          }\n          let that = this;\n          setTimeout(function () {\n            that.begin();\n          }, 500);\n        }\n      };\n    }\n  }\n};","map":{"version":3,"mappings":";AAUA;EACAA;EACAC;EACAC;IACA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAF;MACA;IACA;EACA;EACAG;IACAC;MACA;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;QACAD;MACA;IACA;IACAE;MACA;QACA;QACA;QACA;QACA;UACA;UACAF;YACAG;YACAA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;UACAC;UACA;YACA;UACA;YACA;UACA;UACA;UACAL;YACAG;UACA;QACA;MACA;IACA;EACA;AACA","names":["name","props","data","words","letters","showcur","typerStr","order","mounted","watch","methods","begin","setTimeout","back","write","that","wipe","console"],"sourceRoot":"src/components/Typer","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <h1>\r\n      <span v-for=\"(letter,index) in words\" :key=\"index\">{{letter}}</span>\r\n      <span :class=\"{ typercursor: showcur === true }\">|</span>\r\n    </h1>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name:\"Typer\",\r\n    props:['str'],\r\n    data(){\r\n        return{\r\n        words:[],               //字母数组push，pop的载体\r\n        letters:[],             //str分解后的字母数组\r\n        showcur:false,\r\n        typerStr:'',\r\n        order:0\r\n        }\r\n    },\r\n  mounted(){\r\n    this.typerStr=this.str[0]\r\n    this.begin()\r\n  },\r\n  watch:{\r\n    order(oldValue,newValue){\r\n      this.typerStr=this.str[newValue]\r\n    }\r\n  },\r\n  methods:{\r\n    begin(){\r\n        this.letters=this.typerStr.split('');\r\n        for(var i=0;i<this.letters.length;i++){\r\n          setTimeout(this.write(i),i*200)\r\n        } \r\n    },\r\n    back(){\r\n      let L=this.letters.length;\r\n      for(let i=0;i<L;i++){\r\n        setTimeout(this.wipe(i),i*100)\r\n      }\r\n    },\r\n    write(i){\r\n      return ()=>{\r\n        let L=this.letters.length;\r\n        this.words.push(this.letters[i]);\r\n        let that=this;\r\n        if(i==L-1){\r\n          this.showcur=true;\r\n          setTimeout(function(){\r\n            that.showcur=false;\r\n            that.back();\r\n          },1000)\r\n        }\r\n      }\r\n    },\r\n      wipe(i){\r\n      return ()=>{\r\n          this.words.pop(this.letters[i]);\r\n          /*如果删除完毕，在300ms后开始输入*/\r\n          if(this.words.length==0){\r\n            console.log(this.order,\"kkk\")\r\n            if(this.order<=this.str.length-1){\r\n              this.order++;\r\n            }else{\r\n              this.order=0;\r\n            }\r\n             let that=this;\r\n             setTimeout(function(){\r\n               that.begin();\r\n             },500);\r\n          }\r\n      }\r\n    },\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nh1{\r\n  color:whitesmoke;\r\n  font-size:50px;\r\n  margin-top:400px;\r\n}\r\n.typercursor{\r\n  opacity: 0;\r\n  animation: show 1s linear;\r\n  animation-iteration-count:1;\r\n}\r\n@keyframes show {\r\n  0%{\r\n    opacity: 1;\r\n  }\r\n  50%{\r\n    opacity: 0;\r\n  }\r\n  100%{\r\n    opacity: 1;\r\n  }\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}